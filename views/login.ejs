<!DOCTYPE html>
<html >
<head>
    <meta charset="UTF-8">
    <title>Xops Login</title>
	<link rel="stylesheet" href="/assets/css/style.css">
    <link rel="stylesheet" href="/assets/css/register.css">
	    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
    <script type="text/javascript">
        var urlReq = document.location.href;
        $.ajax({
            url: '/previous_route/' + encodeURIComponent(urlReq),
            dataType: 'jsonp',
            success: function(data) {
                console.log(data);
            },
            type: 'GET'
        });;
    </script>

</head>

<body ng-app="validationlogin" ng-controller="mainController">
 <div class="wrapper">
	<div class="container" style="padding-left:20%;padding-right:20%;padding-top:10%">
        <div class="row justify-content-center">
            <div class="col-md-8">
					<% if (message.length > 0) { %>
		<div class="alert alert-danger"><%= message %></div>
	<% } %>
				<h1>Login</h1>
		     <form  action="/login" method="post"  ng-submit="submitForm(loginForm.$valid)" name="loginForm" novalidate>
				<div class="form-group">
					<label> Username*</label>
					<input type="text" name="id" class="form-control" ng-model="user.id" required>
					<div ng-show="loginForm.id.$invalid && !loginForm.id.$pristine" class="alert alert-danger">Username is required.</div>
				</div>
				<div class="form-group">
					<label>Password*</label>
					<input type="password" class="form-control" name="password"  ng-model="password"  required>
					<div  ng-show="myForm.password.$error.required"  class="alert alert-danger">
					
					</div>
				</div>
				<div class="row">
					<div class="col-3">
						<button type="submit"  class="btn btn-primary px-4">Login</button>
					</div>
					<div class="col-3">
						<a href ="/auth/google" type="button" class="btn btn-primary px-4">Login with Google</a>
					</div>
				</div>
		     </form>

			    <hr>

    <p>Doesnt have an account? <a href="/signup">Register</a></p>
    
            </div>
        </div>
    </div>

	<ul class="bg-bubbles">
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
	</ul>
    </div>

	<script>
var validationlogin = angular.module('validationlogin', []);
// create angular controller
validationlogin.controller('mainController', function($scope) {
  // function to submit the form after all validation has occurred            
  $scope.submitForm = function(isValid) {
    // check to make sure the form is completely valid
    if (isValid) {
    }
  };
});
</script>
</body>

</html>



</div>
  <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>

    <script src="/assets/js/index.js"></script>

</body>
</html>


